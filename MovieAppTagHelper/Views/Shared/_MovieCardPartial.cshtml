@using System.Globalization;
@model Cinema

<div class="card">
    <img src="@Model.Poster" onerror="event.target.src='/images/placeholder.png'" class="card-img-top" alt="...">
    <div class="card-body">
        <h5 class="card-title">@Model.Title (@Model.Year)</h5>
        <p class="card-text">Janre : @Model.Type</p>

        @if (Model.Plot == null)
        {
            <a movie="@Model"></a>
        }
        else
        {
            double rating = 0;
            if (double.TryParse(Model.imdbRating, new CultureInfo("en-EN"), out rating))
            {
                if (rating <= 2)
                {
                    <movie-rating rating="1"></movie-rating>
                }
                else if (rating <= 4)
                {
                    <movie-rating rating="2"></movie-rating>
                }
                else if (rating <= 6)
                {
                    <movie-rating rating="3"></movie-rating>
                }
                else if (rating <= 8)
                {
                    <movie-rating rating="4"></movie-rating>
                }
                else if (rating <= 10)
                {
                    <movie-rating rating="5"></movie-rating>
                }
                else
                {
                    ;
                }
            }
        }
    </div>
</div>